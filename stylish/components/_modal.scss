/* Modal window setup */
/* ---------------------------------------------------------------------------------------------------------------------------------- */


html.modal_active{
  overflow-y: hidden;-webkit-overflow-scrolling:touch; position: relative;
  body{overflow-y: hidden;-webkit-overflow-scrolling:touch; position: relative}
}


.modal{
  position:fixed; left:0; top:0; width:100%; height:100%;visibility:hidden;@include opacity(0);z-index:-50;

  //Overlay
  .m_overlay{position:fixed; left:0; top:0; width:100%; height:100%; visibility: hidden;@include opacity(0);@include transition-property(opacity);@include transition-duration(.3s);}

  //Position modal in the middle of the screen on scale
  .m_wrap{ display: block; height: 100%; position: relative; max-width: $modal_max_width; margin: 0 auto}

  //Content
  .m_content_wrap{
    position:absolute; top:0;width: 100%; height: 100%; overflow-y: auto;

    //Content wrapper to input content
    .m_content{ padding: 30px; background-color: $color_white; position: relative; @include transition-property(all);@include transition-duration(.4s);}

    //Content Structure
    .m_head{
      margin-bottom: 30px;
      .m_title{ margin-bottom: 10px;}
    }
    .m_footer{ margin-top:30px; @extend .clearfix;}
  }

  //Active (opened state)
  &.active{
    @include opacity(1); z-index: 99999; visibility: visible;
    .m_overlay{@include opacity(1); visibility: visible;background-color: rgba($color_mine_shaft, $modal_overlay_opacity);}
  }

  //Close modal button
  .close_modal{
    position: absolute; right: 10px; top: 10px; font-size: 20px;@extend .sy_icons;
    &:before{@extend .sy_remove:before;}
  }


  //Load modal from the top
  &[data-slide="top"]{
    &.active{
      .m_content{ margin-top:15px;}
    }
  }

  //Load modal by scale
  &[data-slide="scale"]{
    .m_wrap{max-width: $modal_max_width;}
    .m_content{@include scale(0.6)}
    &.active{
      .m_content{ @include scale(1)}
    }
  }

  //Load modal by Full width
  &[data-size="full"]{
    .m_wrap{ max-width: initial;}
    .m_content_wrap{ top: 0!important}
    .m_content{height: 100%;margin-top: 0!important}
  }
}